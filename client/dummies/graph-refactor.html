<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Wikitree</title>
    <link rel="stylesheet" type="text/css" href="/css/legacy.css">
    <link rel="stylesheet" type="text/css" href="/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/font-awesome/css/font-awesome.min.css">
    <style type="text/css">

    /**
     * Hacks!!! temp hide menu
     */

    .overlay#menu {
        display: none;
    }

    .overlay#reader {
        width: 50%;
    }

    #new-map {
        right: 50%;
    }

    </style>
</head>
<body>
    <div class="main">
        <div id="new-map">

        </div>
        <div id="menu" class="overlay">
            <div class="inner">
                <div class="menu-item header">
                    <button type="button" class="close-button btn btn-default btn-sm">
                        <i class="fa fa-chevron-left"></i>
                    </button>
                    <button type="button" class="open-button btn btn-default btn-sm">
                        <i class="fa fa-chevron-right"></i>
                    </button>
                    <h3 class="title">
                        <a href="/dummies/returning.html">
                            Wikitree
                        </a>
                    </h3>
                </div>
                <!-- <div class="menu-item account">
                    <div class="icon">
                        <i class="fa fa-database"></i>
                    </div>
                    <div class="text">
                        <h5>Saved to George Costanza</h5>
                        <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-account">
                            <i class="fa fa-user"></i>
                            &nbsp;Account&nbsp;
                        </button>
                        <button type="button" class="btn btn-default btn-xs">
                            <i class="fa fa-sign-out"></i>
                            &nbsp;Log out&nbsp;
                        </button>
                    </div>
                </div> -->
                <div class="menu-item account">
                    <div class="icon">
                        <i class="fa fa-database"></i>
                    </div>
                    <div class="text">
                        <h5>Saved to local browser</h5>
                        <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-sign-in">
                            <i class="fa fa-sign-in"></i>
                            &nbsp;Sign in&nbsp;
                        </button>
                        <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-register">
                            <i class="fa fa-user"></i>
                            &nbsp;Register&nbsp;
                        </button>
                    </div>
                </div>
                <div class="menu-item new-session">
                    <div class="button">
                        <button type="button" class="btn btn-success btn-block" data-toggle="modal" data-target="#modal-new-session">
                            <i class="fa fa-files-o"></i>
                            &nbsp;New session&nbsp;
                        </button>
                    </div>
                </div>
                <div class="menu-item saved-sessions">
                    <h4 class="title">
                        <!-- <a href="#" data-toggle="modal" data-target="#modal-sessions">
                            Saved sessions&nbsp;
                        </a> -->
                        Saved sessions&nbsp;
                    </h4>
                    <div class="sessions">
                        <a class="session active" href="#">
                            <h5 class="title">
                                Normal mode
                            </h5>
                            <div class="date">
                                Last modified 5:32pm
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                INFO 470 - Research paper
                            </h5>
                            <div class="date">
                                Last modified Feb 11th
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                INFO 481 mgmt styles
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Programming paradigms
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Fringe physics &amp; philosophy
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Human spirituality &amp; wellness
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Wikirace III
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Wikirace II
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Wikirace I
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                String theory
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Quantum chromodynamics
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Anatomy
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Evolutionary biology
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                History of the human race
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                How many sessions will people have, really?
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                It's getting hard to think of more names
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                I feel like I'll only have 3, maybe 4 tops
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Isn't the fun in mixing all the nodes together and seeing how seemingly unrelated articles interweave?
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Oh but like, school projects
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Right, research tool
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Not just aimless wanderings
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Focused expeditions through the infosphere. The Wikisphere.
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Mapping the explorer's journey
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                        <a class="session" href="#">
                            <h5 class="title">
                                Hi
                            </h5>
                            <div class="date">
                                Last modified Nov 12th, 2014
                            </div>
                            <div class="controls">
                                <button type="button" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-edit-session">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="menu-item site-links">
                    <div class="links">
                        <a href="#">
                            About
                        </a>
                        &nbsp;|&nbsp;
                        <a href="#">
                            Help
                        </a>
                        &nbsp;|&nbsp;
                        <a href="#">
                            Contact
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div id="reader" class="overlay">
            <div class="inner">
                <div class="search">
                    <div class="w">
                        <img src="/img/w.png">
                    </div>
                    <div class="bar">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search for a Wikipedia article...">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="article">
                    <iframe id="article-frame" width="100%" height="100%" src="/dummies/article-frame.html">
                    </iframe>
                </div>
            </div>
        </div>
    </div>




    <!-- MODALLLLLSSSSSSSS -->


    <!-- Sign in -->
    <div id="modal-sign-in" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-sign-in-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="modal-sign-in-label">
                        User sign in
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modal-sign-in-email">
                            Email
                        </label>
                        <input type="email" class="form-control" id="modal-sign-in-email" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label for="modal-sign-in-password">
                            Password
                        </label>
                        <input type="password" class="form-control" id="modal-sign-in-password" placeholder="Enter password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success">
                        Sign in&nbsp;
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel&nbsp;
                        <i class="fa fa-ban"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Register -->
    <div id="modal-register" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-register-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="modal-register-label">
                        User registration
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modal-register-name">
                            Name
                        </label>
                        <input type="name" class="form-control" id="modal-register-name" placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="modal-register-email">
                            Email
                        </label>
                        <input type="email" class="form-control" id="modal-register-email" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label for="modal-register-password">
                            Password
                        </label>
                        <input type="password" class="form-control" id="modal-register-password" placeholder="Enter password">
                    </div>
                    <div class="form-group">
                        <label for="modal-register-rpassword">
                            Repeat password
                        </label>
                        <input type="rpassword" class="form-control" id="modal-register-rpassword" placeholder="Enter password again">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success">
                        Register&nbsp;
                        <i class="fa fa-thumbs-o-up"></i>
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel&nbsp;
                        <i class="fa fa-ban"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Account -->
    <div id="modal-account" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-account-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="modal-account-label">
                        User account
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modal-account-name">
                            Name
                        </label>
                        <input type="name" class="form-control" id="modal-account-name" value="George Costanza">
                    </div>
                    <div class="form-group">
                        <label for="modal-account-email">
                            Email
                        </label>
                        <input type="email" class="form-control" id="modal-account-email" value="george@costanza.net">
                    </div>
                    <div class="form-group">
                        <label for="modal-account-new-password">
                            New password
                        </label>
                        <input type="password" class="form-control" id="modal-account-new-password" placeholder="Enter new password">
                    </div>
                    <div class="form-group">
                        <label for="modal-account-new-rpassword">
                            Repeat new password
                        </label>
                        <input type="new-rpassword" class="form-control" id="modal-account-new-rpassword" placeholder="Enter new password again">
                    </div>
                    <hr>
                    <div class="form-group">
                        <label for="modal-account-password">
                            Current password
                        </label>
                        <input type="password" class="form-control" id="modal-account-password" placeholder="Enter current password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger">
                        Delete account&nbsp;
                        <i class="fa fa-trash"></i>
                    </button>
                    <button type="button" class="btn btn-success">
                        Save changes&nbsp;
                        <i class="fa fa-save"></i>
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel&nbsp;
                        <i class="fa fa-ban"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit session -->
    <div id="modal-edit-session" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-edit-session-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="modal-edit-session-label">
                        Edit session
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modal-edit-session-name">
                            Name
                        </label>
                        <input type="text" class="form-control" id="modal-edit-session-name" value="Normal mode">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger">
                        Delete session&nbsp;
                        <i class="fa fa-trash"></i>
                    </button>
                    <button type="button" class="btn btn-success">
                        Save changes&nbsp;
                        <i class="fa fa-save"></i>
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        Cancel&nbsp;
                        <i class="fa fa-ban"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- New session -->
    <div id="modal-new-session" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-new-session-label" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-700">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="modal-new-session-label">
                        Wikitree
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="home sessions">
                        <div class="jumbotron search">
                            <div class="container">
                                <h2 class="search-title">New session</h2>
                                <!-- search -->
                                <div class="input-group">
                                    <input type="text" class="form-control input-lg" placeholder="Search for a Wikipedia article...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-lg btn-default" type="button">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript" src="/lib/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/lib/d3/d3.js"></script>
    <script type="text/javascript" src="/dummies/refactor-js/map-model.js"></script>
    <script type="text/javascript" src="/dummies/refactor-js/force-graph.js"></script>
    <script type="text/javascript">








        var graph = new ForceGraph(
            document.getElementById('new-map')
        );





        // update graph on model update
        mapModel.addListener('update', function () {
            graph.update();
        });

        // update article reader on model update
        mapModel.addListener('update', function () {
            var node = mapModel.getCurrentNode();
            iframe.loadArticle(
                node.article.title,
                node.article.text,
                node.article.categorieshtml,
                function (title, noSetCurrent) {
                    mapModel.handleTitle({
                        title: decodeURIComponent(title),
                        noSetCurrent: noSetCurrent,
                        fromCurrent: true
                    });
                }
            );
        });




        /**
         * Testing iFrame
         */

        // grab iframe
        var $iframe = $('#article-frame');
        var iframe = null;

        // once its loaded
        $iframe.on('load', function () {

            // grab iframe's global JS scope
            iframe = $iframe[0].contentWindow;

            // start somewhere
            mapModel.handleTitle({
                title: 'Plasma (physics)'
            });

        });



    </script>
</body>
</html>
